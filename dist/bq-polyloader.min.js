/*! bq-polyloader 26-06-2015 */
!function(a,b){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("Polyloader requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=function(b){this.document=a.document||{},this.supportWc=this._wcSupport(),this.urls={},this.urls.wclibrary=b.wclibraryurl||"",this.currentPage="main",this.pages=b.pages||[],this._firstLoad=!0,this.coreComponents=b.coreComponents||[],this._sortByPriority(),this.suppportWc===!1?(this._loadWC(),console.log("%c Oh my heavens! Your browser needs polyfills ","background: #222; color: #bada55")):(console.log("%c Polyloader || Yeahh running Webcomponents native ","background: #444; color: #bada55"),this._lazyLoadPolymerAndElements())};return c.prototype._wcSupport=function(){var a=this.document;return"registerElement"in a&&"import"in a.createElement("link")&&"content"in a.createElement("template")},c.prototype._loadWC=function(){var a=this.document.createElement("script");a.src=this.urls.wclibrary,a.onload=this._lazyLoadPolymerAndElements(),this.document.head.appendChild(a)},c.prototype._lazyLoadPolymerAndElements=function(){var b=this;this.supportWc&&this._firstLoad&&(a.Polymer=a.Polymer||{},a.Polymer.dom="shadow"),this.coreComponents.forEach(function(a){var c=b.document.createElement("link");c.rel="import",c.href=a,b.document.head.appendChild(c)})},c.prototype._loadPagesElements=function(){for(var a=this,b=0;b<this.pagesSortedByPriority.length;b++)for(var c=this.pagesSortedByPriority[b][1].elements.length-1;c>=0;c--){var d=a.document.createElement("link");d.rel="import",d.href=this.pagesSortedByPriority[b][1].elements[c],a.document.head.appendChild(d)}},c.prototype.loadPage=function(a){"string"==typeof a&&this.pages[a]&&(this.pages[a].priority=1,this._sortByPriority(),this._loadPagesElements())},c.prototype._sortByPriority=function(){var a=[];for(var b in this.pages)a.push([b,this.pages[b]]);a.sort(function(a,b){return a[1].priority-b[1].priority}),this.pagesSortedByPriority=a},c.VERSION="0.0.1",b||(a.bqPolyloader=a.รง=c),c});